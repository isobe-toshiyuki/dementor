package main

import (
	"fmt"

	"github.com/tidwall/gjson"
)

type Animal struct {
	Type  string `json:"type"`
	Sound string `json:"sound"`
	Age   int    `json:"age"`
}

var json = `{
	"animal": {
		"type": "Dog",
		"sound": "Bark",
		"age": 11
	}
}`

func main() {
	json = "hogehogehoge"
	v := gjson.Parse(json)
	fmt.Printf("hoge: %spiyo\n", v)
	if !v.Exists() {
		fmt.Println("no")
	}
	j := v.Get("animal")
	if !j.Exists() {
		fmt.Println("ok")
	}
	fmt.Println(j)
	var dog Animal
	gjson.Unmarshal([]byte(j.Raw), &dog)
	fmt.Printf("%+v", dog)
}
